{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/44563/Desktop/Echars/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/44563/Desktop/Echars/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.reverse.js\";\nimport { inject, onMounted, reactive } from 'vue';\nexport default {\n  setup: function setup() {\n    var $charts = inject(\"echarts\");\n    var $axios = inject(\"axios\");\n    var data = reactive({});\n    var titleData = reactive([]);\n    var ydata = reactive([]);\n    var percentData = reactive([]);\n    //   设置数据\n    function setData() {\n      // 此处数据需要翻转\n      titleData = data.chartFour.chartData.title.reverse();\n      ydata = data.chartFour.chartData.data.reverse();\n      percentData = data.chartFour.chartData.persent.reverse();\n    }\n    //   请求数据\n    function getData() {\n      return _getData.apply(this, arguments);\n    }\n    function _getData() {\n      _getData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var res;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return $axios({\n                  url: \"/four/data\"\n                });\n              case 2:\n                res = _context.sent;\n                data = res.data;\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _getData.apply(this, arguments);\n    }\n    function chartInit() {\n      getData().then(function () {\n        setData();\n        var myColor = [\"purple\", \"pink\", \"red\", \"skyblue\", \"blue\"];\n        // 初始化echarts\n        var myChart = $charts.init(document.querySelector('#fourChart'));\n        myChart.setOption({\n          // 图表区域修改\n          grid: {\n            top: \"15%\",\n            left: \"10%\",\n            bottom: \"10%\",\n            containLabel: true\n          },\n          yAxis: [{\n            type: \"category\",\n            //类目\n            data: titleData,\n            offset: 5,\n            axisTick: {\n              show: false //不显示刻度\n            },\n\n            // 刻度标签相关样式\n            axisLabel: {\n              color: \"#fff\"\n            },\n            axisLine: {\n              show: false\n            }\n          }, {\n            type: \"category\",\n            //类目\n            data: ydata,\n            offset: 5,\n            axisTick: {\n              show: false //不显示刻度\n            },\n\n            // 刻度标签相关样式\n            axisLabel: {\n              color: \"#ffffff\",\n              fontSize: 12\n            },\n            axisLine: {\n              show: false\n            }\n          }],\n          xAxis: {\n            show: false\n          },\n          series: [\n          // 数据\n          {\n            name: '条',\n            type: 'bar',\n            data: percentData,\n            barCateGoryGap: 50,\n            //柱子间距离\n            barWidth: 10,\n            //柱子宽度\n            itemStyle: {\n              borderRadius: 20,\n              //柱子圆角\n              color: function color(params) {\n                return myColor[params.dataIndex];\n              }\n            },\n            label: {\n              //图形上的文本标签\n              show: true,\n              color: \"#ffffff\",\n              position: 'top',\n              formatter: \"{c}%\" //百分比\n            },\n\n            yAxisIndex: 0 //在单个图表实例中存在多个 y轴的时候有用，设置层级\n          },\n          // 外框\n          {\n            name: '框',\n            type: 'bar',\n            barCateGoryGap: 50,\n            //柱子间距离\n            barWidth: 15,\n            itemStyle: {\n              color: \"none\",\n              borderRadius: 20,\n              borderWidth: 3,\n              borderColor: '#00c1d3'\n            },\n            data: [100, 100, 100, 100, 100],\n            yAxisIndex: 1\n          }]\n        });\n        // 图表大小自适应(监听窗口大小改变)\n        window.addEventListener('resize', function () {\n          myChart.resize();\n        });\n      });\n    }\n    onMounted(function () {\n      chartInit();\n    });\n    return {\n      getData: getData,\n      data: data,\n      titleData: titleData,\n      ydata: ydata,\n      percentData: percentData,\n      setData: setData\n    };\n  }\n};","map":{"version":3,"mappings":"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","names":["inject","onMounted","reactive","setup","$charts","$axios","data","titleData","ydata","percentData","setData","chartFour","chartData","title","reverse","persent","getData","url","res","chartInit","then","myColor","myChart","init","document","querySelector","setOption","grid","top","left","bottom","containLabel","yAxis","type","offset","axisTick","show","axisLabel","color","axisLine","fontSize","xAxis","series","name","barCateGoryGap","barWidth","itemStyle","borderRadius","params","dataIndex","label","position","formatter","yAxisIndex","borderWidth","borderColor","window","addEventListener","resize"],"sourceRoot":"","sources":["C:\\Users\\44563\\Desktop\\Echars\\src\\components\\itemFour.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <h2>各类占比</h2>\r\n        <div class=\"chart\" id=\"fourChart\">\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { inject, onMounted, reactive } from 'vue'\r\nexport default {\r\n    setup() {\r\n        let $charts = inject(\"echarts\")\r\n        let $axios = inject(\"axios\")\r\n\r\n        let data = reactive({})\r\n        let titleData = reactive([])\r\n        let ydata = reactive([])\r\n        let percentData=reactive([])\r\n        //   设置数据\r\n        function setData() {\r\n            // 此处数据需要翻转\r\n            titleData = data.chartFour.chartData.title.reverse()\r\n            ydata = data.chartFour.chartData.data.reverse()\r\n            percentData=data.chartFour.chartData.persent.reverse()\r\n        }\r\n        //   请求数据\r\n        async function getData() {\r\n            let res = await $axios({ url: \"/four/data\" })\r\n            data = res.data\r\n        }\r\n        \r\n        function chartInit(){\r\n            getData().then(()=>{\r\n                setData()\r\n                const myColor=[\"purple\",\"pink\",\"red\",\"skyblue\",\"blue\"]\r\n            // 初始化echarts\r\n            let myChart = $charts.init(document.querySelector('#fourChart'))\r\n            myChart.setOption({\r\n                // 图表区域修改\r\n                grid: {\r\n                    top: \"15%\",\r\n                    left: \"10%\",\r\n                    bottom: \"10%\",\r\n                    containLabel: true,\r\n                },\r\n                yAxis:[\r\n                {\r\n                    type: \"category\",//类目\r\n                    data: titleData,\r\n                    offset: 5,\r\n                    axisTick: {\r\n                        show: false//不显示刻度\r\n                    },\r\n                    // 刻度标签相关样式\r\n                    axisLabel: {\r\n                        color: \"#fff\"\r\n                    },\r\n                    axisLine: {\r\n                        show: false,\r\n                    }\r\n                },\r\n                {\r\n                    type: \"category\",//类目\r\n                    data: ydata,\r\n                    offset: 5,\r\n                    axisTick: {\r\n                        show: false//不显示刻度\r\n                    },\r\n                    // 刻度标签相关样式\r\n                    axisLabel: {\r\n                        color: \"#ffffff\",\r\n                        fontSize:12,\r\n                    },\r\n                    axisLine: {\r\n                        show: false,\r\n                    } \r\n                }\r\n                ],\r\n                xAxis: {\r\n                    show: false\r\n                },\r\n                series: [\r\n                    // 数据\r\n                    {\r\n                       name:'条',\r\n                       type:'bar',\r\n                       data:percentData,\r\n                       barCateGoryGap:50,//柱子间距离\r\n                       barWidth:10,//柱子宽度\r\n                       itemStyle:{\r\n                        borderRadius:20,//柱子圆角\r\n                        color:function(params){\r\n                            return myColor[params.dataIndex]\r\n                        }\r\n                       },\r\n                       label:{//图形上的文本标签\r\n                        show:true,\r\n                        color:\"#ffffff\",\r\n                        position:'top',\r\n                        formatter:\"{c}%\",//百分比\r\n                       },\r\n                       yAxisIndex:0//在单个图表实例中存在多个 y轴的时候有用，设置层级\r\n                    },\r\n                    // 外框\r\n                    {\r\n                       name:'框',\r\n                       type:'bar',\r\n                       barCateGoryGap:50,//柱子间距离\r\n                       barWidth:15,\r\n                       itemStyle:{\r\n                            color:\"none\",\r\n                            borderRadius:20,\r\n                            borderWidth:3,\r\n                            borderColor:'#00c1d3',\r\n                       },\r\n                       data:[100,100,100,100,100],\r\n                       yAxisIndex:1\r\n                    },\r\n                ],\r\n            })\r\n            // 图表大小自适应(监听窗口大小改变)\r\n            window.addEventListener('resize', () => {\r\n                myChart.resize()\r\n            })\r\n            })\r\n        }\r\n\r\n\r\n        onMounted(() => {\r\n            chartInit()\r\n        })\r\n\r\n\r\n        return {\r\n            getData, data, titleData, ydata,percentData,\r\n            setData\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\nh2 {\r\n    font-size: .25rem;\r\n    color: #fff;\r\n    height: .6rem;\r\n    text-align: center;\r\n}\r\n\r\n.chart {\r\n    height: 3.5rem\r\n        /* 280px -> 3.5rem */\r\n    ;\r\n    width: 100%;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}