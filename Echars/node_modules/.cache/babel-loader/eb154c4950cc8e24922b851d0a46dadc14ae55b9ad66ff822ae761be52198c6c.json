{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/44563/Desktop/Echars/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/44563/Desktop/Echars/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport { inject, onMounted, reactive } from 'vue';\nexport default {\n  setup: function setup() {\n    var $charts = inject(\"echarts\");\n    var $axios = inject(\"axios\");\n    var data = reactive({});\n    var xdata = reactive([]);\n    var ydata = reactive([]);\n    //   设置数据\n    function setData() {\n      xdata = data.chartOne.chartData.map(function (item) {\n        return item.title;\n      });\n      ydata = data.chartOne.chartData.map(function (item) {\n        return item.num;\n      });\n      console.log(xdata);\n    }\n    //   请求数据\n    function getData() {\n      return _getData.apply(this, arguments);\n    }\n    function _getData() {\n      _getData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var res;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return $axios({\n                  url: \"/one/data\"\n                });\n              case 2:\n                res = _context.sent;\n                data = res.data;\n                console.log(data);\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _getData.apply(this, arguments);\n    }\n    onMounted(function () {\n      // 初始化echarts\n      var myChart = $charts.init(document.querySelector('#oneChart'));\n      getData().then(function () {\n        setData();\n        myChart.setOption({\n          xAxis: {\n            type: \"value\"\n          },\n          yAxis: {\n            type: \"category\",\n            data: xdata\n          },\n          series: [{\n            type: \"bar\",\n            data: ydata,\n            itemStyle: {\n              normal: {\n                color: new $charts.graphic.LinearGradient(1, 0, 1, 0, [{\n                  offset: 0,\n                  color: \"#73a373\"\n                }, {\n                  offset: .5,\n                  color: \"#7289ab\"\n                }, {\n                  offset: 1,\n                  color: \"#cb2382\"\n                }])\n              }\n            }\n          }]\n        });\n      });\n      // 初始化echarts\n    });\n\n    return {\n      getData: getData,\n      data: data,\n      xdata: xdata,\n      ydata: ydata,\n      setData: setData\n    };\n  }\n};","map":{"version":3,"mappings":";;;AASA,SAASA,MAAM,EAAEC,SAAS,EAAEC,QAAO,QAAS,KAAI;AAChD,eAAe;EACXC,KAAK,mBAAG;IACJ,IAAIC,OAAM,GAAIJ,MAAM,CAAC,SAAS;IAC9B,IAAIK,MAAK,GAAIL,MAAM,CAAC,OAAO;IAE3B,IAAIM,IAAG,GAAIJ,QAAQ,CAAC,CAAC,CAAC;IACtB,IAAIK,KAAI,GAAIL,QAAQ,CAAC,EAAE;IACvB,IAAIM,KAAI,GAAIN,QAAQ,CAAC,EAAE;IACvB;IACA,SAASO,OAAO,GAAG;MACfF,KAAI,GAAID,IAAI,CAACI,QAAQ,CAACC,SAAS,CAACC,GAAG,CAAC,cAAG;QAAA,OAAKC,IAAI,CAACC,KAAK;MAAA;MACtDN,KAAI,GAAIF,IAAI,CAACI,QAAQ,CAACC,SAAS,CAACC,GAAG,CAAC,cAAG;QAAA,OAAKC,IAAI,CAACE,GAAG;MAAA;MACpDC,OAAO,CAACC,GAAG,CAACV,KAAK,CAAC;IAEtB;IACA;IAAA,SACeW,OAAO;MAAA;IAAA;IAAA;MAAA,sEAAtB;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACoBb,MAAM,CAAC;kBAAEc,GAAG,EAAE;gBAAY,CAAC;cAAA;gBAAvCC,GAAE;gBACNd,IAAG,GAAIc,GAAG,CAACd,IAAG;gBACdU,OAAO,CAACC,GAAG,CAACX,IAAI,CAAC;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CACrB;MAAA;IAAA;IAGAL,SAAS,CAAC,YAAM;MACZ;MACA,IAAIoB,OAAM,GAAIjB,OAAO,CAACkB,IAAI,CAACC,QAAQ,CAACC,aAAa,CAAC,WAAW,CAAC;MAC9DN,OAAO,EAAE,CAACO,IAAI,CAAC,YAAM;QACjBhB,OAAO,EAAC;QACRY,OAAO,CAACK,SAAS,CAAC;UACdC,KAAK,EAAE;YACHC,IAAI,EAAE;UACV,CAAC;UACDC,KAAK,EAAE;YACHD,IAAI,EAAE,UAAU;YAChBtB,IAAI,EAACC;UACT,CAAC;UACDuB,MAAM,EAAE,CACJ;YACIF,IAAI,EAAE,KAAK;YACXtB,IAAI,EAACE,KAAK;YACVuB,SAAS,EAAC;cACNC,MAAM,EAAC;gBACHC,KAAK,EAAC,IAAI7B,OAAO,CAAC8B,OAAO,CAACC,cAAc,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAChD,CACA;kBACIC,MAAM,EAAC,CAAC;kBACRH,KAAK,EAAC;gBACV,CAAC,EACD;kBACIG,MAAM,EAAC,EAAE;kBACTH,KAAK,EAAC;gBACV,CAAC,EACD;kBACIG,MAAM,EAAC,CAAC;kBACRH,KAAK,EAAC;gBACV,EACA;cAEJ;YACJ;UACJ;QAER,CAAC;MACL,CAAC;MACD;IAEJ,CAAC;;IAED,OAAO;MACHf,OAAO,EAAPA,OAAO;MAAEZ,IAAI,EAAJA,IAAI;MAAEC,KAAK,EAALA,KAAK;MAAEC,KAAK,EAALA,KAAK;MAC3BC,OAAM,EAANA;IACJ;EACJ;AACJ","names":["inject","onMounted","reactive","setup","$charts","$axios","data","xdata","ydata","setData","chartOne","chartData","map","item","title","num","console","log","getData","url","res","myChart","init","document","querySelector","then","setOption","xAxis","type","yAxis","series","itemStyle","normal","color","graphic","LinearGradient","offset"],"sourceRoot":"","sources":["C:\\Users\\44563\\Desktop\\Echars\\src\\components\\itemOne.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <h2>销售总量</h2>\r\n        <div class=\"chart\" id=\"oneChart\">\r\n\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { inject, onMounted, reactive } from 'vue'\r\nexport default {\r\n    setup() {\r\n        let $charts = inject(\"echarts\")\r\n        let $axios = inject(\"axios\")\r\n\r\n        let data = reactive({})\r\n        let xdata = reactive([])\r\n        let ydata = reactive([])\r\n        //   设置数据\r\n        function setData() {\r\n            xdata = data.chartOne.chartData.map(item => item.title)\r\n            ydata = data.chartOne.chartData.map(item => item.num)\r\n            console.log(xdata);\r\n\r\n        }\r\n        //   请求数据\r\n        async function getData() {\r\n            let res = await $axios({ url: \"/one/data\" })\r\n            data = res.data\r\n            console.log(data);\r\n        }\r\n\r\n\r\n        onMounted(() => {\r\n            // 初始化echarts\r\n            let myChart = $charts.init(document.querySelector('#oneChart'))\r\n            getData().then(() => {\r\n                setData()\r\n                myChart.setOption({\r\n                    xAxis: {\r\n                        type: \"value\"\r\n                    },\r\n                    yAxis: {\r\n                        type: \"category\",\r\n                        data:xdata\r\n                    },\r\n                    series: [\r\n                        {\r\n                            type: \"bar\",\r\n                            data:ydata,\r\n                            itemStyle:{\r\n                                normal:{\r\n                                    color:new $charts.graphic.LinearGradient(1,0,1,0,\r\n                                    [\r\n                                    {\r\n                                        offset:0,\r\n                                        color:\"#73a373\",\r\n                                    },\r\n                                    {\r\n                                        offset:.5,\r\n                                        color:\"#7289ab\",\r\n                                    },\r\n                                    {\r\n                                        offset:1,\r\n                                        color:\"#cb2382\"\r\n                                    }\r\n                                    ]\r\n                                    )\r\n                                }\r\n                            }\r\n                        }\r\n                    ]\r\n                })\r\n            })\r\n            // 初始化echarts\r\n\r\n        })\r\n\r\n        return {\r\n            getData, data, xdata, ydata,\r\n            setData\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\nh2 {\r\n    font-size: .25rem;\r\n    color: #fff;\r\n    height: .6rem;\r\n    text-align: center;\r\n}\r\n\r\n.chart {\r\n    height: 3rem\r\n        /* 170px -> 2.125rem */\r\n    ;\r\n    width:100%;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}