{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/44563/Desktop/Echars/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/44563/Desktop/Echars/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport { inject, onMounted, reactive } from 'vue';\nexport default {\n  setup: function setup() {\n    var $charts = inject(\"echarts\");\n    var $axios = inject(\"axios\");\n    var data = reactive({});\n    var xdata = reactive([]);\n    var ydata = reactive([]);\n    //   设置数据\n    function setData() {\n      xdata = data.chartOne.chartData.map(function (item) {\n        return item.title;\n      });\n      ydata = data.chartOne.chartData.map(function (item) {\n        return item.num;\n      });\n    }\n    //   请求数据\n    function getData() {\n      return _getData.apply(this, arguments);\n    }\n    function _getData() {\n      _getData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var res;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return $axios({\n                  url: \"/four/data\"\n                });\n              case 2:\n                res = _context.sent;\n                data = res.data;\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _getData.apply(this, arguments);\n    }\n    onMounted(function () {\n      // 初始化echarts\n      var myChart = $charts.init(document.querySelector('#fourChart'));\n      // getData().then(() => {\n      // setData()\n      myChart.setOption({\n        color: [\"#2f89cf\"],\n        //柱颜色\n        tooltip: {\n          trigger: \"axis\",\n          axisPointer: {\n            type: \"shadow\" //坐标轴指示器\n          }\n        },\n\n        // 图表区域修改\n        grid: {\n          top: \"10%\",\n          left: \"22%\",\n          bottom: \"10%\",\n          containLabel: true\n        },\n        yAxis: {\n          type: \"category\",\n          //类目\n          data: [\"html\", \"css\", \"js\", \"vue\", \"react\", \"axios\"],\n          offset: 5,\n          axisTick: {\n            show: false\n          },\n          // 刻度标签相关样式\n          axisLabel: {\n            color: \"rgba(255,255,255,.6)\",\n            fontSize: 12,\n            interval: 0\n          },\n          axisLine: {\n            show: false\n          }\n        },\n        xAxis: {\n          show: false\n        },\n        series: [{\n          type: \"bar\",\n          barWidth: '50%',\n          data: ydata,\n          itemStyle: {\n            borderRadius: [5, 5, 0, 0] //柱子圆角\n          }\n        }]\n      });\n    });\n    // 图表大小自适应(监听窗口大小改变)\n    window.addEventListener('resize', function () {\n      myChart.resize();\n    });\n    // })\n\n    return {\n      getData: getData,\n      data: data,\n      xdata: xdata,\n      ydata: ydata,\n      setData: setData\n    };\n  }\n};","map":{"version":3,"mappings":";;;AAQA,SAASA,MAAM,EAAEC,SAAS,EAAEC,QAAO,QAAS,KAAI;AAChD,eAAe;EACXC,KAAK,mBAAG;IACJ,IAAIC,OAAM,GAAIJ,MAAM,CAAC,SAAS;IAC9B,IAAIK,MAAK,GAAIL,MAAM,CAAC,OAAO;IAE3B,IAAIM,IAAG,GAAIJ,QAAQ,CAAC,CAAC,CAAC;IACtB,IAAIK,KAAI,GAAIL,QAAQ,CAAC,EAAE;IACvB,IAAIM,KAAI,GAAIN,QAAQ,CAAC,EAAE;IACvB;IACA,SAASO,OAAO,GAAG;MACfF,KAAI,GAAID,IAAI,CAACI,QAAQ,CAACC,SAAS,CAACC,GAAG,CAAC,cAAG;QAAA,OAAKC,IAAI,CAACC,KAAK;MAAA;MACtDN,KAAI,GAAIF,IAAI,CAACI,QAAQ,CAACC,SAAS,CAACC,GAAG,CAAC,cAAG;QAAA,OAAKC,IAAI,CAACE,GAAG;MAAA;IACxD;IACA;IAAA,SACeC,OAAO;MAAA;IAAA;IAAA;MAAA,sEAAtB;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACoBX,MAAM,CAAC;kBAAEY,GAAG,EAAE;gBAAa,CAAC;cAAA;gBAAxCC,GAAE;gBACNZ,IAAG,GAAIY,GAAG,CAACZ,IAAG;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAClB;MAAA;IAAA;IAGAL,SAAS,CAAC,YAAM;MACZ;MACA,IAAIkB,OAAM,GAAIf,OAAO,CAACgB,IAAI,CAACC,QAAQ,CAACC,aAAa,CAAC,YAAY,CAAC;MAC/D;MACI;MACAH,OAAO,CAACI,SAAS,CAAC;QACdC,KAAK,EAAC,CAAC,SAAS,CAAC;QAAC;QAClBC,OAAO,EAAC;UACJC,OAAO,EAAC,MAAM;UACdC,WAAW,EAAC;YACRC,IAAI,EAAC,QAAQ,CAAC;UAClB;QACJ,CAAC;;QACD;QACAC,IAAI,EAAE;UACFC,GAAG,EAAE,KAAK;UACVC,IAAI,EAAE,KAAK;UACXC,MAAM,EAAE,KAAK;UACbC,YAAY,EAAC;QACjB,CAAC;QACDC,KAAK,EAAE;UACHN,IAAI,EAAE,UAAU;UAAC;UACjBtB,IAAI,EAAE,CAAC,MAAM,EAAC,KAAK,EAAC,IAAI,EAAC,KAAK,EAAC,OAAO,EAAC,OAAO,CAAC;UAC/C6B,MAAM,EAAC,CAAC;UACRC,QAAQ,EAAC;YACLC,IAAI,EAAC;UACT,CAAC;UACD;UACAC,SAAS,EAAC;YACNd,KAAK,EAAC,sBAAsB;YAC5Be,QAAQ,EAAC,EAAE;YACXC,QAAQ,EAAC;UACb,CAAC;UACDC,QAAQ,EAAC;YACLJ,IAAI,EAAC;UACT;QACJ,CAAC;QACDK,KAAK,EAAE;UACJL,IAAI,EAAC;QACR,CAAC;QACDM,MAAM,EAAE,CACJ;UACIf,IAAI,EAAE,KAAK;UACXgB,QAAQ,EAAC,KAAK;UACdtC,IAAI,EAAEE,KAAK;UACXqC,SAAS,EAAC;YACNC,YAAY,EAAC,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC,CAAC;UAC3B;QACJ,CAAC;MAET,CAAC;IACL,CAAC;IACD;IACAC,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAE,YAAM;MACxC7B,OAAO,CAAC8B,MAAM,EAAC;IACnB,CAAC;IACD;;IAEA,OAAO;MACHjC,OAAO,EAAPA,OAAO;MAAEV,IAAI,EAAJA,IAAI;MAAEC,KAAK,EAALA,KAAK;MAAEC,KAAK,EAALA,KAAK;MAC3BC,OAAM,EAANA;IACJ;EACJ;AACJ","names":["inject","onMounted","reactive","setup","$charts","$axios","data","xdata","ydata","setData","chartOne","chartData","map","item","title","num","getData","url","res","myChart","init","document","querySelector","setOption","color","tooltip","trigger","axisPointer","type","grid","top","left","bottom","containLabel","yAxis","offset","axisTick","show","axisLabel","fontSize","interval","axisLine","xAxis","series","barWidth","itemStyle","borderRadius","window","addEventListener","resize"],"sourceRoot":"","sources":["C:\\Users\\44563\\Desktop\\Echars\\src\\components\\itemFour.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <h2>各类占比</h2>\r\n        <div class=\"chart\" id=\"fourChart\">\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { inject, onMounted, reactive } from 'vue'\r\nexport default {\r\n    setup() {\r\n        let $charts = inject(\"echarts\")\r\n        let $axios = inject(\"axios\")\r\n\r\n        let data = reactive({})\r\n        let xdata = reactive([])\r\n        let ydata = reactive([])\r\n        //   设置数据\r\n        function setData() {\r\n            xdata = data.chartOne.chartData.map(item => item.title)\r\n            ydata = data.chartOne.chartData.map(item => item.num)\r\n        }\r\n        //   请求数据\r\n        async function getData() {\r\n            let res = await $axios({ url: \"/four/data\" })\r\n            data = res.data\r\n        }\r\n\r\n\r\n        onMounted(() => {\r\n            // 初始化echarts\r\n            let myChart = $charts.init(document.querySelector('#fourChart'))\r\n            // getData().then(() => {\r\n                // setData()\r\n                myChart.setOption({\r\n                    color:[\"#2f89cf\"],//柱颜色\r\n                    tooltip:{\r\n                        trigger:\"axis\",\r\n                        axisPointer:{\r\n                            type:\"shadow\",//坐标轴指示器\r\n                        }\r\n                    },\r\n                    // 图表区域修改\r\n                    grid: { \r\n                        top: \"10%\",\r\n                        left: \"22%\",\r\n                        bottom: \"10%\",\r\n                        containLabel:true,\r\n                    },\r\n                    yAxis: {\r\n                        type: \"category\",//类目\r\n                        data: [\"html\",\"css\",\"js\",\"vue\",\"react\",\"axios\"],\r\n                        offset:5,\r\n                        axisTick:{\r\n                            show:false\r\n                        },\r\n                        // 刻度标签相关样式\r\n                        axisLabel:{\r\n                            color:\"rgba(255,255,255,.6)\",\r\n                            fontSize:12,\r\n                            interval:0,\r\n                        },\r\n                        axisLine:{\r\n                            show:false,\r\n                        }   \r\n                    },\r\n                    xAxis: {            \r\n                       show:false\r\n                    },\r\n                    series: [\r\n                        {\r\n                            type: \"bar\",\r\n                            barWidth:'50%',\r\n                            data: ydata,\r\n                            itemStyle:{\r\n                                borderRadius:[5,5,0,0],//柱子圆角\r\n                            }\r\n                        },\r\n                    ],\r\n                })\r\n            })\r\n            // 图表大小自适应(监听窗口大小改变)\r\n            window.addEventListener('resize', () => {\r\n            myChart.resize()\r\n        })\r\n        // })\r\n\r\n        return {\r\n            getData, data, xdata, ydata,\r\n            setData\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\nh2 {\r\n    font-size: .25rem;\r\n    color: #fff;\r\n    height: .6rem;\r\n    text-align: center;\r\n}\r\n\r\n.chart {\r\n    height: 3.5rem /* 280px -> 3.5rem */;\r\n    width: 100%;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}