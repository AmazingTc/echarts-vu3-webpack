{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/44563/Desktop/Echars/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/44563/Desktop/Echars/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport { inject, onMounted, reactive } from 'vue';\nexport default {\n  setup: function setup() {\n    var $charts = inject(\"echarts\");\n    var $axios = inject(\"axios\");\n    var data = reactive({});\n    var xdata = reactive([]);\n    var ydata = reactive([]);\n    //   设置数据\n    function setData() {\n      xdata = data.chartOne.chartData.map(function (item) {\n        return item.title;\n      });\n      ydata = data.chartOne.chartData.map(function (item) {\n        return item.num;\n      });\n    }\n    //   请求数据\n    function getData() {\n      return _getData.apply(this, arguments);\n    }\n    function _getData() {\n      _getData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var res;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return $axios({\n                  url: \"/one/data\"\n                });\n              case 2:\n                res = _context.sent;\n                data = res.data;\n                console.log(data);\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _getData.apply(this, arguments);\n    }\n    onMounted(function () {\n      getData().then(function () {\n        setData();\n      });\n      // 初始化echarts\n      var myChart = $charts.init(document.querySelector('#oneChart'));\n      myChart.setOption({\n        xAixs: {\n          type: \"value\"\n        },\n        yAixs: {\n          type: \"category\"\n        },\n        serires: [{\n          type: \"bar\"\n        }]\n      });\n    });\n    return {\n      getData: getData,\n      data: data,\n      xdata: xdata,\n      ydata: ydata,\n      setData: setData\n    };\n  }\n};","map":{"version":3,"mappings":";;;AASA,SAAQA,MAAM,EAAEC,SAAS,EAACC,QAAQ,QAAO,KAAI;AAC7C,eAAc;EACVC,KAAK,mBAAE;IACL,IAAIC,OAAO,GAAEJ,MAAM,CAAC,SAAS;IAC7B,IAAIK,MAAM,GAACL,MAAM,CAAC,OAAO;IAEzB,IAAIM,IAAI,GAACJ,QAAQ,CAAC,CAAC,CAAC;IACpB,IAAIK,KAAK,GAACL,QAAQ,CAAC,EAAE;IACrB,IAAIM,KAAK,GAACN,QAAQ,CAAC,EAAE;IACvB;IACE,SAASO,OAAO,GAAE;MACjBF,KAAK,GAAED,IAAI,CAACI,QAAQ,CAACC,SAAS,CAACC,GAAG,CAAC,cAAI;QAAA,OAAEC,IAAI,CAACC,KAAK;MAAA;MACnDN,KAAK,GAAEF,IAAI,CAACI,QAAQ,CAACC,SAAS,CAACC,GAAG,CAAC,cAAI;QAAA,OAAEC,IAAI,CAACE,GAAG;MAAA;IAElD;IACF;IAAA,SACiBC,OAAO;MAAA;IAAA;IAAA;MAAA,sEAAtB;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACiBX,MAAM,CAAC;kBAACY,GAAG,EAAC;gBAAW,CAAC;cAAA;gBAApCC,GAAE;gBACPZ,IAAI,GAAEY,GAAG,CAACZ,IAAG;gBACba,OAAO,CAACC,GAAG,CAACd,IAAI,CAAC;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CACjB;MAAA;IAAA;IAGAL,SAAS,CAAC,YAAI;MACZe,OAAO,EAAE,CAACK,IAAI,CAAC,YAAI;QACfZ,OAAO,EAAC;MACZ,CAAC;MACD;MACD,IAAIa,OAAO,GAAElB,OAAO,CAACmB,IAAI,CAACC,QAAQ,CAACC,aAAa,CAAC,WAAW,CAAC;MAC7DH,OAAO,CAACI,SAAS,CAAC;QACjBC,KAAK,EAAC;UACFC,IAAI,EAAC;QACT,CAAC;QACDC,KAAK,EAAC;UACFD,IAAI,EAAC;QACT,CAAC;QACDE,OAAO,EAAC,CACJ;UACIF,IAAI,EAAC;QACT;MAEL,CAAC;IAGH,CAAC;IAEE,OAAM;MACFZ,OAAO,EAAPA,OAAO;MAACV,IAAI,EAAJA,IAAI;MAACC,KAAK,EAALA,KAAK;MAACC,KAAK,EAALA,KAAK;MACxBC,OAAM,EAANA;IACJ;EACJ;AACJ","names":["inject","onMounted","reactive","setup","$charts","$axios","data","xdata","ydata","setData","chartOne","chartData","map","item","title","num","getData","url","res","console","log","then","myChart","init","document","querySelector","setOption","xAixs","type","yAixs","serires"],"sourceRoot":"","sources":["C:\\Users\\44563\\Desktop\\Echars\\src\\components\\itemOne.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <h2>销售总量</h2>\r\n        <div class=\"chart\" id=\"oneChart\">\r\n\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport {inject, onMounted,reactive} from 'vue'\r\nexport default{\r\n    setup(){\r\n      let $charts= inject(\"echarts\")\r\n      let $axios=inject(\"axios\")  \r\n\r\n      let data=reactive({})\r\n      let xdata=reactive([])\r\n      let ydata=reactive([])\r\n    //   设置数据\r\n      function setData(){\r\n       xdata= data.chartOne.chartData.map(item=>item.title)\r\n       ydata= data.chartOne.chartData.map(item=>item.num)\r\n\r\n      }  \r\n    //   请求数据\r\n      async function getData(){\r\n      let  res = await $axios({url:\"/one/data\"})\r\n      data= res.data\r\n      console.log(data);\r\n      }\r\n\r\n      \r\n      onMounted(()=>{\r\n        getData().then(()=>{\r\n            setData()\r\n        })\r\n        // 初始化echarts\r\n       let myChart= $charts.init(document.querySelector('#oneChart'))\r\n       myChart.setOption({\r\n        xAixs:{\r\n            type:\"value\"\r\n        },\r\n        yAixs:{\r\n            type:\"category\"\r\n        },\r\n        serires:[\r\n            {\r\n                type:\"bar\"\r\n            }\r\n        ]\r\n       }) \r\n    \r\n    \r\n     })\r\n\r\n        return{\r\n            getData,data,xdata,ydata,\r\n            setData\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"less\">\r\n        h2{\r\n            font-size: .25rem;\r\n            color:#fff;\r\n            height: .6rem;\r\n            text-align: center;\r\n        }\r\n        .chart{\r\n            height: 3rem /* 170px -> 2.125rem */;\r\n        }\r\n</style>"]},"metadata":{},"sourceType":"module"}